# ============================================================================
# DYNAMIC TRADING BOT - POSTBACK MODE CONFIGURATION
# ============================================================================
# This bot automatically detects BUY orders via postback and manages trailing SL
# No need to configure symbols beforehand - bot detects all option contracts

# ============================================================================
# API CREDENTIALS (Required)
# ============================================================================
API_KEY=mnrc8u0ymn3j9wsj
API_SECRET=hobsexfsc0il2zciz3v9fud3a4d4ys4l
ACCESS_TOKEN=h1l5Ee4Jw9WN9Dv6Nsl0YGW2JHNFfHSM
ACCESS_TOKEN_DATE=2025-09-26

# ============================================================================
# RISK MANAGEMENT (Per Position)
# ============================================================================
RISK_RUPEES=500          # Risk amount per position in rupees
REWARD_RUPEES=1000       # Target profit per position in rupees  
TRAIL_RUPEES=100         # Trailing step amount in rupees

# ============================================================================
# RISK CALCULATION MODE
# ============================================================================
RISK_MODE=PER_LOT        # PER_LOT (risk per lot) or ABSOLUTE (total risk)
FIRST_TARGET_SL_MODE=MIDPOINT  # BUY (move to breakeven) or MIDPOINT (move to mid-point)

# ============================================================================
# ORDER MANAGEMENT
# ============================================================================
ORDER_BUFFER=0.05        # Buffer for SL orders (in points)
MAX_MODIFY_BEFORE_RECREATE=20  # Max modifications before recreating order
THROTTLE_SECONDS=2.0     # Delay between order modifications
MIN_SL_STEP=0.1          # Minimum SL movement step (in points)

# ============================================================================
# SYSTEM SETTINGS
# ============================================================================
STATE_FILE=state.json    # File to save bot state for recovery

# ============================================================================
# NOTES:
# ============================================================================
# - ACCESS_TOKEN: Auto-updated after first login, valid for 24 hours
# - ACCESS_TOKEN_DATE: Auto-updated with token expiration date
# - SYMBOL not needed: Bot auto-detects all option contracts via postback
# - LOTS/LOT_SIZE not needed: Bot uses actual order quantity  
# - PRODUCT not needed: Bot uses order's product type
# - No polling settings needed: Uses real-time postback only
# 
# POSTBACK SETUP:
# 1. Run: pdm run start-bot
# 2. Configure postback URL: https://your-server.com/postback
# 3. Place orders in Kite - bot handles automatically!
